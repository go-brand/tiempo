---
title: High Precision Differences
description: Calculate differences in milliseconds, microseconds, and nanoseconds
---

For scientific computing, financial systems, and high-frequency operations, tiempo provides high-precision difference functions.

## differenceInMilliseconds

Returns the number of milliseconds between two datetimes.

```ts
function differenceInMilliseconds(
  laterDate: Temporal.Instant | Temporal.ZonedDateTime,
  earlierDate: Temporal.Instant | Temporal.ZonedDateTime
): number
```

```ts
import { differenceInMilliseconds } from '@gobrand/tiempo';

const later = Temporal.Instant.from('2025-01-20T10:00:01.500Z');
const earlier = Temporal.Instant.from('2025-01-20T10:00:00Z');

differenceInMilliseconds(later, earlier); // 1500
```

## differenceInMicroseconds

Returns the number of microseconds between two datetimes.

```ts
function differenceInMicroseconds(
  laterDate: Temporal.Instant | Temporal.ZonedDateTime,
  earlierDate: Temporal.Instant | Temporal.ZonedDateTime
): number
```

```ts
import { differenceInMicroseconds } from '@gobrand/tiempo';

const later = Temporal.Instant.from('2025-01-20T10:00:00.001500Z');
const earlier = Temporal.Instant.from('2025-01-20T10:00:00Z');

differenceInMicroseconds(later, earlier); // 1500
```

## differenceInNanoseconds

Returns the number of nanoseconds between two datetimes.

**Note**: Returns a `bigint` for precision.

```ts
function differenceInNanoseconds(
  laterDate: Temporal.Instant | Temporal.ZonedDateTime,
  earlierDate: Temporal.Instant | Temporal.ZonedDateTime
): bigint
```

```ts
import { differenceInNanoseconds } from '@gobrand/tiempo';

const later = Temporal.Instant.from('2025-01-20T10:00:00.000001500Z');
const earlier = Temporal.Instant.from('2025-01-20T10:00:00Z');

differenceInNanoseconds(later, earlier); // 1500n (bigint)
```

## Common Patterns

### Performance measurement

```ts
import { differenceInMilliseconds } from '@gobrand/tiempo';

async function measureOperation<T>(
  operation: () => Promise<T>
): Promise<{ result: T; durationMs: number }> {
  const start = Temporal.Now.zonedDateTimeISO();
  const result = await operation();
  const end = Temporal.Now.zonedDateTimeISO();

  return {
    result,
    durationMs: differenceInMilliseconds(end, start),
  };
}
```
